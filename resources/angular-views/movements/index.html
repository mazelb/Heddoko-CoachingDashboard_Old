
<div class="page movements-page">
    <ui-page-title data-title="'Organize'" data-icon="'th'"></ui-page-title>

    <div ng-show="!rootProfile">

        <!-- List root folders -->
        <ui-explorer
            data-ng-hide="global.data.isFetchingProfiles === true
                || global.state.profile.list.length === 0"
            footer="{{ path }}">

            <div ng-repeat="(id, profile) in global.state.profile.list">
                <ui-explorer-folder
                    ng-if="profile.id && profile.id > 0"
                    data-title="{{ profile.firstName }} {{ profile.lastName }}"
                    data-href="#/movements/{{ id }}">

                </ui-explorer-folder>
            </div>
        </ui-explorer>

        <!-- Loading root folders -->
        <div ng-show="global.data.isFetchingProfiles === true">
            <h2 class="text-center">Retrieving Your Folders...</h2>
            <br>

            <div class="text-center">
                <i class="fa fa-spinner fa-spin fa-2x"></i>
            </div>
        </div>

        <!-- No profiles exist -->
        <div
            ng-show="global.data.isFetchingProfiles === false && global.state.profile.list.length === 0"
            class="text-center">

            <h3 class="text-center">You do not have any profiles yet.</h3>
            <br>

            Once you have profiles, you can start uploading and organizing your movements here.
            <br>

            Take this opportunity to <a href="#/profile/create">create one</a>.
        </div>
    </div>

    <!-- List folder contents -->
    <ui-explorer
        ng-show="rootProfile"
        footer="{{ path }}">

        Folders, movements...
    </ui-explorer>
</div>
