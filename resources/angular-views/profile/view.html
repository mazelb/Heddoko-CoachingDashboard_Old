
<!-- Copyright Heddoko(TM) 2015, all rights reserved. -->

<!-- Profile summary -->
<div ng-hide="profile.id === 0" class="page">
    <header>
        <h1>
            {{ profile.firstName }} {{ profile.lastName }}  <i class="fa fa-user"></i>
            <span></span>
        </h1>

        <div class="sub-header">

            <!-- View trends -->
            <a href="#/demo/trends" class="sub-header-btn">
                <button class="btn btn-primary btn-circle btn-lg">
                    <i class="fa fa-line-chart"></i>
                </button>
            </a>

            <!-- Delete group button -->
            <a
                ng-show="profile.id > 0"
                data-toggle="modal"
                data-target="#deleteProfileConfirmation"
                href="javascript:;"
                class="sub-header-btn">

                <button class="btn btn-danger btn-circle btn-lg">
                    <i class="fa fa-trash"></i>
                </button>
            </a>

            <!-- Delete confirmation -->
            <div class="modal fade" id="deleteProfileConfirmation">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <p>
                                Are you sure you want to delete <b>{{ profile.firstName }}
                                {{ profile.lastName }}</b>'s profile?
                            </p>
                        </div>
                        <div class="modal-footer text-center">
                            <button type="button" class="btn btn-default" data-dismiss="modal">
                                Cancel
                            </button>
                            <button ng-click="deleteProfile()" type="button" class="btn btn-primary" data-dismiss="modal">
                                Yes, delete {{ profile.firstName }}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section ng-show="profile.id > 0">
    	<div class="row">

            <!-- Avatar -->
    		<div class="col-sm-12 col-md-5">
                <div class="text-center">
                    <ui-avatar
                        data-upload-endpoint="uploadAvatarEndpoint"
                        data-success-callback="uploadAvatarCallback"
                        data-src="profile.avatarSrc"
                        data-match-width="{{ calculateAvatarHeight() }}">
                    </ui-avatar>
                </div>
    		</div>

            <!-- Profile details -->
            <div class="col-sm-12 col-md-7">
                <ui-editable-fields
                    data-id="profileDetails"
                    data-model="profile"
                    data-save="saveProfileDetails"
                    data-save-callback="saveProfileDetailsCallback"
                    data-heading="{{ profile.firstName }}'s details">

                    <!-- First name -->
                    <ui-editable-field
                        data-label="First Name"
                        data-key="firstName"
                        data-required="true">
                    </ui-editable-field>

                    <!-- Last name -->
                    <ui-editable-field
                        data-label="Last Name"
                        data-key="lastName">
                    </ui-editable-field>

                    <!-- Height -->
                    <ui-editable-field
                        data-label="Height"
                        data-key="height"
                        data-type="length">
                    </ui-editable-field>

                    <!-- Weight -->
                    <ui-editable-field
                        data-label="Weight"
                        data-key="mass"
                        data-type="mass">
                    </ui-editable-field>

                    <!-- Date of Birth -->
                    <ui-editable-field
                        data-label="Date of Birth"
                        data-key="dob"
                        data-type="date">
                    </ui-editable-field>

                    <!-- Gender -->
                    <ui-editable-field
                        data-label="Gender"
                        data-key="gender"
                        data-type="gender">
                    </ui-editable-field>

                    <!-- Phone -->
                    <ui-editable-field
                        data-label="Phone #"
                        data-key="phone">
                    </ui-editable-field>

                    <!-- Email -->
                    <ui-editable-field
                        data-label="Email"
                        data-key="email">
                    </ui-editable-field>

                    <!-- Profile creation date -->
                    <ui-editable-field
                        data-label="Profile Created"
                        data-key="createdAt"
                        data-type="datetime"
                        data-disabled="true">
                    </ui-editable-field>

                    <!-- Primary Tag -->
                    <ui-editable-field
                        data-label="Primary Sport"
                        data-key="primaryTag"
                        data-type="tag">
                    </ui-editable-field>

                    <!-- Secondary tags -->
                    <ui-editable-field
                        data-label="Other Sports"
                        data-key="secondaryTags"
                        data-type="tag"
                        data-max-tags="10">
                    </ui-editable-field>
                </ui-editable-fields>
            </div>
        </div>

        <!-- General notes -->
        <div class="row">
    		<div class="col-sm-12">
                <ui-editable-standalone-field
                    data-heading="Medical Information"
                    data-model="profile"
                    data-key="medicalHistory"
                    data-empty="No medical information provided."
                    data-save="saveProfileDetails"
                    data-save-callback="saveProfileDetailsCallback">
                </ui-editable-standalone-field>
            </div>

            <div class="col-sm-12">
                <ui-editable-standalone-field
                    data-heading="Previous Injuries"
                    data-model="profile"
                    data-key="injuries"
                    data-empty="No previous injuries."
                    data-save="saveProfileDetails"
                    data-save-callback="saveProfileDetailsCallback">
                </ui-editable-standalone-field>
            </div>

            <div class="col-sm-12">
                <ui-editable-standalone-field
                    data-heading="Other Notes"
                    data-model="profile"
                    data-key="notes"
                    data-empty="No other notes."
                    data-save="saveProfileDetails"
                    data-save-callback="saveProfileDetailsCallback">
                </ui-editable-standalone-field>
    		</div>
    	</div>
    </section>
</div>

<!-- No profile selected -->
<div ng-show="profile.id === 0" ng-include="'partials/select-profile.html'" class="page"></div>
