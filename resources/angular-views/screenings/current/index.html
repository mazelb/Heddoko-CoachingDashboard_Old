
<!-- Copyright Heddoko(TM) 2015, all rights reserved. -->

<div class="page">
    <header>
        <h1>
            Movement Test <i class="fa fa-pencil-square-o"></i>
            <span></span>
        </h1>

        <!-- Append profile name to page title -->
        <div ng-show="screening.id > 0 && global.data.isFetchingScreeningData === false" class="h1-append">
            for {{ global.getSelectedProfile().firstName }} {{ global.getSelectedProfile().lastName }}

            <small>
                <a ng-click="global.store.profileId = 0" href="javascript:;">
                    (change)
                </a>
            </small>
        </div>
    </header>

    <!-- Test progress -->
    <div ng-show="screening.id > 0 && global.data.isFetchingScreeningData === false">

        <h2 class="text-center">
            {{ screening.title }}

            <br>
            <small>
                {{ screening.createdAt | mysqlDate:'d / M / yyyy' }}
            </small>
        </h2>


        <div ng-repeat="movement in screening.movements" class="row" style="margin-bottom: 15px;">

            <div class="col-md-3 col-md-offset-4" style="line-height: 30px">
                <span class="text-muted">{{ $index + 1 }}</span>
                {{ movement.title }}
            </div>

            <div class="col-md-2">
                <button
                    ng-click="global.alert('In Development')"
                    class="btn btn-primary btn-circle">
                    <i class="fa fa-plus"></i>
                </button>
                <button
                    ng-click="global.alert('In Development')"
                    class="btn btn-primary btn-circle">
                    <i class="fa fa-cloud-upload"></i>
                </button>
                <button
                    ng-click="global.alert('In Development')"
                    class="btn btn-primary btn-circle">
                    <i class="fa fa-th"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Select a screening template -->
    <div ng-show="screening.id === 0 && global.data.isFetchingScreeningData === false">

        <!-- Temporary listing -->
        <div
            ng-show="global.getSelectedProfile().id > 0
                && global.data.isPreparingNewScreening === false">

            <div class="callout-elem callout-elem-info">
                <p>
                    Start by selecting a test template:
                </p>
            </div>

            <div class="col-md-4 col-md-offset-4 text-center">
                <a ng-click="createFunctionalMovementScreening()" href="javascript:;">
                    Functional Movement Test
                </a>
                <br>

                <a href="javascript:;">
                    <i class="fa fa-plus fa-fw"></i> Create a Custom Movement Test
                </a>
            </div>
        </div>

        <!-- Select a profile -->
        <div
            ng-show="global.getSelectedProfile().id === 0
                && global.data.isPreparingNewScreening === false">

            <div ng-include="'partials/select-profile.html'"></div>
        </div>

        <!-- Preparing screening records -->
        <div ng-show="global.data.isPreparingNewScreening === true">

            <br>
            <h2 class="text-center">
                Preparing Your Test
            </h2>

            <br>
            <br>
            <div class="text-center">
                <i class="fa fa-spinner fa-spin fa-2x"></i>
            </div>
        </div>
    </div>

    <!-- Loading screening data -->
    <div ng-show="global.data.isFetchingScreeningData === true">
        <div class="text-center" style="margin: 60px auto">
            <i class="fa fa-spinner fa-spin fa-2x"></i>
        </div>
    </div>
</div>
